@use "@/index.scss" as index;

$radius: 14px;
$radius-sm: 12px;

$border: rgba(index.$color-white, 0.08);
$border-strong: rgba(index.$color-white, 0.12);
$border-weak: rgba(index.$color-white, 0.06);

$surface-0: rgba(index.$color-primary-black, 0.72); // base
$surface-1: rgba(index.$color-primary-black, 0.58); // header / nav
$surface-2: rgba(index.$color-primary-dark, 0.42); // nav inner
$surface-3: rgba(index.$color-primary-light, 0.16); // hover

$text-strong: index.$color-text-light-1;
$text: rgba(index.$color-text-light-1, 0.88);
$text-muted: rgba(index.$color-text-light-1, 0.68);

$accent: index.$color-secondary-dark;
$accent-soft: rgba(index.$color-secondary-dark, 0.35);

.settings {
  height: 100%;
  min-height: 0;
  color: inherit;

  // modal padding="none" でも “中のワークスペース” っぽい面を作る
  border-radius: 1rem;
  overflow: hidden;

  background:
    radial-gradient(
      1200px 700px at 20% -10%,
      rgba(index.$color-primary-light, 0.22),
      transparent 55%
    ),
    radial-gradient(
      900px 600px at 110% 30%,
      rgba(index.$color-secondary-dark, 0.14),
      transparent 60%
    ),
    $surface-0;

  border: 1px solid $border;
  box-shadow: index.$shadow-1;

  display: grid;
  grid-template-rows: auto 1fr;

  &__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;

    padding: 14px 16px;
    border-bottom: 1px solid $border;

    // Warp系の “薄いガラス + 線” を意識
    background: linear-gradient(
      180deg,
      rgba(index.$color-primary-black, 0.55),
      rgba(index.$color-primary-black, 0.35)
    );

    backdrop-filter: blur(10px);
  }

  &__title {
    display: grid;
    gap: 3px;
    min-width: 0;
  }

  &__titleMain {
    font-size: 1.5rem;
    font-weight: 800;
    letter-spacing: 0.25px;
    color: $text-strong;
    line-height: 1.2;
  }

  &__titleSub {
    font-size: 1.15rem;
    color: $text-muted;
    line-height: 1.25;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 60ch;
  }

  &__headerRight {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }

  &__body {
    min-height: 0;
    display: grid;

    // 左タブを “ほどよく太く”、かつ可変に
    grid-template-columns: minmax(240px, 28%) 1fr;
  }

  &__nav {
    min-height: 0;
    overflow: auto;

    padding: 10px 10px 12px;
    border-right: 1px solid $border;

    background:
      radial-gradient(
        700px 420px at 0% 0%,
        rgba(index.$color-primary-light, 0.14),
        transparent 55%
      ),
      $surface-1;

    // 上に詰めたい要求に対して：常に上から積む
    display: grid;
    grid-template-rows: 1fr auto;
    align-content: start;
    gap: 10px;

    // 任意：スクロールバー（モーダル内で見やすい）
    scrollbar-width: thin;
    &::-webkit-scrollbar {
      display: block;
      width: 8px;
    }
    &::-webkit-scrollbar-thumb {
      background: rgba(index.$color-secondary-dark, 0.55);
      border-radius: 999px;
    }
    &::-webkit-scrollbar-track {
      background: rgba(index.$color-primary-light, 0.18);
      border-radius: 999px;
    }
  }

  &__navGroup {
    display: grid;
    gap: 8px;
    align-content: start;
    padding-top: 2px;
  }

  &__main {
    min-height: 0;
    overflow: auto;
    padding: 14px 16px 18px;

    background:
      radial-gradient(
        900px 520px at 25% 10%,
        rgba(index.$color-primary-light, 0.16),
        transparent 55%
      ),
      radial-gradient(
        900px 520px at 80% 40%,
        rgba(index.$color-secondary-dark, 0.1),
        transparent 60%
      );

    scrollbar-width: thin;
    &::-webkit-scrollbar {
      display: block;
      width: 8px;
    }
    &::-webkit-scrollbar-thumb {
      background: rgba(index.$color-secondary-dark, 0.55);
      border-radius: 999px;
    }
    &::-webkit-scrollbar-track {
      background: rgba(index.$color-primary-light, 0.18);
      border-radius: 999px;
    }
  }

  &__content {
    display: grid;
    gap: 12px;
  }

  // ---- responsive: 狭い時は縦積み（モーダルがfull相当になるケース） ----
  @media (max-width: 760px) {
    &__body {
      grid-template-columns: 1fr;
      grid-template-rows: auto 1fr;
    }

    &__nav {
      border-right: 0;
      border-bottom: 1px solid $border;
      padding: 10px 10px;
    }

    &__navGroup {
      grid-auto-flow: column;
      grid-auto-columns: minmax(220px, 1fr);
      overflow: auto;
      gap: 10px;
      padding-top: 0;
    }
  }
}
